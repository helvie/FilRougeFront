<div class="modal-dialog modal-xl" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Nouvelle Session</h5>
    </div>
    <form [formGroup]="sessionForm">
      <div class="modal-body" style="padding: 2rem; margin-top: -15px">
        <span style="font-style: italic"
          ><strong
            >NB: les champs notés avec (*) sont obligatoires</strong
          ></span
        >
        <div class="row" style="margin-top: 30px">
          <!-- session type -->
          <div class="col-sm-4">
            <div class="form-group">
              <div class="form-label" for="Enter_Type_Session">
                Type de sesion <span class="text-danger">*</span>
                <select
                  id="Enter_Type_Session"
                  class="form-control"
                  formControlName="sessionType"
                >
                  <option value="" disabled selected>
                    Sélectionner un type
                  </option>

                  <option *ngFor="let type of sessionTypes" [value]="type">
                    {{ type }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <!-- code -->
          <div class="col-sm-4">
            <div class="form-group">
              <div class="form-label" for="Enter_Code">
                Code <span style="color: red">*</span>

                <input
                  id="Enter_Code"
                  type="text"
                  class="form-control"
                  formControlName="code"
                  required
                />
              </div>
            </div>
          </div>

          <!-- duration -->
          <div class="col-sm-4">
            <div class="form-group">
              <div class="form-label" for="Enter_Duration">
                Duration <span class="text-danger">*</span>
                <input
                  id="Enter_Duration"
                  type="number"
                  class="form-control"
                  formControlName="duration"
                  required
                />
              </div>
            </div>
          </div>

          <!-- price -->
          <div class="col-sm-6">
            <div class="form-group">
              <div class="form-label" for="Enter_Price">
                Prix <span class="text-danger">*</span>
                <input
                  id="Enter_Price"
                  type="number"
                  class="form-control"
                  formControlName="price"
                  required
                />
              </div>
            </div>
          </div>

          <!-- location -->
          <div class="col-sm-6">
            <div class="form-group">
              <div class="form-label" for="Enter_Location">
                Location <span class="text-danger">*</span>
                <input
                  id="Enter_Location"
                  type="text"
                  class="form-control"
                  formControlName="location"
                  required
                />
              </div>
            </div>
          </div>

          <!-- status -->
          <div class="col-sm-6">
            <div class="form-group">
              <div class="form-label" for="Enter_Status">
                Status <span class="text-danger">*</span>
                <select
                  id="Enter_Status"
                  class="form-control"
                  formControlName="status"
                >
                  <option value="" disabled selected>
                    Sélectionner un status
                  </option>

                  <option *ngFor="let status of statusValues" [value]="status">
                    {{ status }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <!-- date -->
          <div class="col-sm-6">
            <div class="form-group">
              <div class="form-label" for="Enter_Date">
                Date <span class="text-danger">*</span>
                <input
                  id="Enter_Date"
                  type="date"
                  class="form-control"
                  formControlName="date"
                />
              </div>
            </div>
          </div>

          <!-- sessionScore -->
          <div class="col-sm-6">
            <div class="form-group">
              <div class="form-label" for="Enter_Score">
                Score <span class="text-danger">*</span>
                <input
                  id="Enter_Score"
                  type="number"
                  class="form-control"
                  formControlName="sessionScore"
                  required
                />
              </div>
            </div>
          </div>

          <!-- minParticipants -->
          <div class="col-sm-6" *ngIf="sessionType === 'InterSession'">
            <div class="form-group">
              <div class="form-label" for="Enter_MinParticipants">
                Nb Min de Participants <span class="text-danger">*</span>
                <input
                  id="Enter_MinParticipants"
                  type="number"
                  class="form-control"
                  formControlName="minParticipants"
                  required
                />
              </div>
            </div>
          </div>

          <!-- status -->
          <div class="col-sm-6" *ngIf="sessionType === 'IntraSession'">
            <div class="form-group">
              <div class="form-label" for="Enter_Company">
                Entreprise <span class="text-danger">*</span>
                <select
                  id="Enter_Company"
                  class="form-control"
                  formControlName="Company"
                >
                  <option value="" disabled selected>
                    Sélectionner un status
                  </option>

                  <option *ngFor="let company of allCompanies" [value]="company">
                    {{ company.name }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <!-- description -->
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
              <div class="form-label" for="Enter_Description">
                Description <span class="text-danger">*</span>
                <input
                  id="Enter_Description"
                  type="text"
                  class="form-control"
                  formControlName="description"
                  required
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer" style="padding: 2rem">
        <button
          type="submit"
          [disabled]="sessionForm.invalid || isFormSessionLoading"
          class="btn btn-primary"
          (click)="saveSession()"
        >
          <span *ngIf="isFormSessionLoading" class="spinner-border"></span
          ><span [ngClass]="isFormSessionLoading ? 'hidden' : ''"
            >&nbsp;Enregistrer</span
          >
        </button>
        <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">
          &nbsp;Annuler
        </button>
      </div>
    </form>
  </div>
</div>
